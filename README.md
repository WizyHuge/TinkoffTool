# TinkoffTool

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –¥–µ—Å–∫—Ç–æ–ø-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å **Tinkoff Invest API**, –≤–∫–ª—é—á–∞—é—â–µ–µ:

* –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Ä—Ç—Ñ–µ–ª—è
* —Å—Ç—Ä–∏–º —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–æ—Ç–∏—Ä–æ–≤–æ–∫
* —Å–≤–µ—á–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏
* —Ç–æ—Ä–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (market / limit)
* —Ç–æ—Ä–≥–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
* —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram
* —Ä–∞–±–æ—Ç—É —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏
* –ª–æ–∫–∞–ª—å–Ω—É—é SQLite-–±–∞–∑—É –¥–ª—è –∫–µ—à–∞ –∏ –∏—Å—Ç–æ—Ä–∏–∏

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üîê –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏

* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
* –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ Tinkoff API —Ç–æ–∫–µ–Ω–∞
* –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ –≤ SQLite
* –£–¥–æ–±–Ω—ã–π –≤—ã–±–æ—Ä –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞

### üìä –ü–æ—Ä—Ç—Ñ–µ–ª—å

* –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ—Ä—Ç—Ñ–µ–ª—è
* –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∑–∏—Ü–∏–π
* –í–∞–ª—é—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è
* –¢–∞–±–ª–∏—Ü–∞ –ø–æ–∑–∏—Ü–∏–π
* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
* –ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–æ–≤

### üïØ –°–≤–µ—á–Ω–æ–π –≥—Ä–∞—Ñ–∏–∫

* –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
* –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã: –æ—Ç 5 sec –¥–æ 1 day
* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è —Å–≤–µ—á–µ–π
* –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–µ–Ω –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
* –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–≤–µ—á–µ–π –≤–æ –≤—Ä–µ–º—è —Å—Ç—Ä–∏–º–∞

### üì° –°—Ç—Ä–∏–º —Ä–µ–∞–ª—å–Ω—ã—Ö —Ü–µ–Ω

* –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∏—Ä–∂–µ —á–µ—Ä–µ–∑ MarketDataStream
* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∫–æ–Ω–Ω–µ–∫—Ç
* –û–±—Ä–∞–±–æ—Ç–∫–∞ LastPrice –∏ Trade —Å–æ–±—ã—Ç–∏–π
* –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–≤–µ—á–µ–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### üíπ –¢–æ—Ä–≥–æ–≤–ª—è

* Market –æ—Ä–¥–µ—Ä–∞
* Limit –æ—Ä–¥–µ—Ä–∞
* –£—á–µ—Ç –±–∏—Ä–∂–µ–≤–æ–π –∫–æ–º–∏—Å—Å–∏–∏
* –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–µ–Ω—ã —á–µ—Ä–µ–∑ tinkoff.invest Quotation
* –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏

### ü§ñ –¢–æ—Ä–≥–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

–í—Å—Ç—Ä–æ–µ–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:

* **Advanced Strategy (CostAwareSmartStrategy)**

–§—É–Ω–∫—Ü–∏–∏:

* –∞–Ω–∞–ª–∏–∑ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –∏ —Å—Ç—Ä–∏–º–æ–≤—ã—Ö —Ü–µ–Ω
* –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤ BUY/SELL
* –ª–æ–≥ —Å–∏–≥–Ω–∞–ª–æ–≤
* –≤—ã–≤–æ–¥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### üîß –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

* –°–º–µ–Ω–∞ —Ç–µ–º—ã –≥—Ä–∞—Ñ–∏–∫–∞
* –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è
* Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
* –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
* –ê–≤—Ç–æ—Å—Ç–∞—Ä—Ç
* –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –≤ —Ç—Ä–µ–π
* –≠–∫—Å–ø–æ—Ä—Ç / –∏–º–ø–æ—Ä—Ç –∞–∫–∫–∞—É–Ω—Ç–æ–≤
* –ë—ç–∫–∞–ø –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ account.py
‚îú‚îÄ‚îÄ cache.py
‚îú‚îÄ‚îÄ database.py
‚îú‚îÄ‚îÄ sender.py
‚îú‚îÄ‚îÄ workers/
‚îÇ   ‚îú‚îÄ‚îÄ api_worker.py
‚îÇ   ‚îú‚îÄ‚îÄ stream_worker.py
‚îÇ   ‚îú‚îÄ‚îÄ trade_worker.py
‚îÇ   ‚îî‚îÄ‚îÄ sender.py
‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îî‚îÄ‚îÄ main_window.py
‚îî‚îÄ‚îÄ strategies/
    ‚îî‚îÄ‚îÄ advanced_strategy.py
```

---

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install -r requirements.txt
```

–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–æ–¥—É–ª–∏:

```
PyQt6
PyQt6-WebEngine
tinkoff-investments
requests
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
python main.py
```

### 3. –í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω Tinkoff API

–ü–æ–ª—É—á–∏—Ç—å –º–æ–∂–Ω–æ –∑–¥–µ—Å—å:
[https://www.tinkoff.ru/invest/settings/api/](https://www.tinkoff.ru/invest/settings/api/)

---

## üì¶ –°–±–æ—Ä–∫–∞ –≤ .exe (Windows)

```bash
pyinstaller --noconsole --windowed --onefile main.py
```

---

## üóÑ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SQLite —Ñ–∞–π–ª:

```
tinkoff_analyzer.db
```

–•—Ä–∞–Ω–∏—Ç:

* –∞–∫–∫–∞—É–Ω—Ç—ã
* –∫–µ—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
* –∏—Å—Ç–æ—Ä–∏—é —Ü–µ–Ω

---

## üì¨ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–£–∫–∞–∂–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö:

* Bot Token
* Chat ID

–ò –≤–∫–ª—é—á–∏—Ç–µ –æ–ø—Ü–∏—é **Telegram notifications**.
